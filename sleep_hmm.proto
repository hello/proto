option java_package = "com.hello.suripu.api.sleephmm";
option java_outer_classname = "SleepHmmProtos";

message PoissonModel {
  required double mean = 1;
}

message DiscreteAlphabetModel {
  repeated double probabilities = 1;
}

message StateModel {
  optional PoissonModel light = 1;
  optional PoissonModel motion_count = 2;
  optional DiscreteAlphabetModel waves = 3;
}


enum SleepMode {
  SLEEP = 0;
  LIGHT_SLEEP = 1;
  WAKE = 2;
}

enum BedMode  {
  ON_BED = 0;
  OFF_BED = 1;
}


message SleepHmm {
  optional string user_id = 1;
  optional string source = 2;
  repeated StateModel states = 3;
  repeated SleepMode  sleep_mode_of_states = 4;
  repeated BedMode bed_mode_of_states = 5;
  optional int32 num_states = 6;
  repeated double state_transition_matrix = 7;
 
}
